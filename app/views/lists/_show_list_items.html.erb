<%# turbo_page_requires_reload %>

<%# アイテム一覧 %>
<div class="w-9/10 p-2 border rounded-md bg-blue-200/80 flex flex-col align-center justify-center mb-[2em]<%= " bg-gray-300/80 border-gray-300" if @list.draft? %>">
  <h1 class="mt-[1em] mx-auto text-xl font-medium">アイテム一覧</h1>
  <% if @list.items.present? %>
    <div class="w-9/10 mx-auto">
      <div class="flex flex-col justify-between items-center mx-auto text-xl">
        <% @list.items.each do |item| %>
          <div class="w-full h-[2.5em] flex justify-between items-center">
            <div class="w-3/5 truncate text-start"><%= item.name %></div>
            <div class="w-1/5 text-center border-2 border-blue-700/50 rounded-xl"><%= item.amount %></div>
            <%# アイテム削除ボタン %>
            <%= button_to "-", list_item_path(@list, item), method: :delete, remote: true, data: { confirm: "削除しますか？" }, class: "relative w-[2em] h-[2em] rounded-full bg-red-600 hover:bg-red-400 text-white flex justify-center items-center text-xl" %>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <%# アイテムの作成 %>
  <div class="w-9/10 mx-auto">
    <%= render partial: "add_item_form", item: @item %>
  </div>
</div>
